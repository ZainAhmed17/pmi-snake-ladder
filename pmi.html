<html>
 <head>
  <link rel="stylesheet" type="text/css" href="pmistyle.css">
 </head>
<body>
  <button style="background-color:#DD5E89;width:100px;height:50px;"><div id="dicePosition">g1</div></button>
  <button style="background-color:#DD5E89;width:100px;height:50px;"><div id="dicePositionRed">r1</div></button>
  <button style="background-color:#DD5E89;width:100px;height:50px;"><div id="currentTurn">GREEN</div></button>
    <button style="background-color:#DD5E89;width:100px;height:50px;"><div id="snakePlot"></div></button>
<div class="board">
<div class="b1">
  <!--white--><div class="r1c1"></div>
  <!--path--><div class="r1c2">
    <div class="c5">
        <!--1st line-->
    <div class="green" id="g21" >21</div>
    <div class="green" id="g21">20</div>
    <div class="green" id="g19">19</div>
    <div class="green" id="g18">18</div>
    <div class="green" id="g17">17</div>
  </div>
        <div class="c6">
        <!--1st line-->
    <div class="green" id="g22">22</div>
    <div class="red" id="r17">17</div>
    <div class="red" id="r16">16</div>
    <div class="red" id="r15">15</div>

  </div>
        <div class="c7">
        <!--1st line-->
    <div class="green" id="g23">23</div>
    <div class="red" id="r18">18</div>
    <div class="red" id="r19">19</div>
    <div class="red "id="r20">20</div>

  </div>
        <div class="c8">
        <!--1st line-->
    <div class="green" id="g24">24</div>
    <div class="green" id="g25">25</div>
    <div class="green" id="g26">26</div>
    <div class="green" id="g27">27</div>
    <div class="green" id="g28">28</div>
  </div>
  </div>
  <!--white--><div class="r1c3"></div>
</div>

<div class="b2">
    <!--path--><div class="r2c1" >
 <div class="c10">
      <div class="green" id="g12">12</div>
      <div class="green"  id="g11">11</div>
      <div class="green" id="g10">10</div>
      <div class="green" id="g9">9</div>
       </div>
       <div class="c11">
      <div class="green" id="g13">13</div>
      <div class="red" id="r10">10</div>
      <div class="red" id="r9">9</div>
      <div class="green" id="g8">8</div>
       </div>
       <div class="c12">
      <div class="green" id="g14">14</div>
      <div class="red" id="r11">11</div>
      <div class="red" id="r8">8</div>
      <div class="green" id="g7">7</div>
       </div>
          <div class="c13">
      <div class="green" id="g15">15</div>
      <div class="red" id="r12">12</div>
      <div class="red" id="r7">7</div>
      <div class="green" id="g6">6</div>
       </div>
    </div>
  <!--path--><div class="r2c2">
<div class="c19">
      <div class="green" id="g16">16</div>
      <div class="red" id="r13"> 13 </div>
      <div class="red "id="r6"> 6 </div>
      <div class="green" id="g5">5</div>
       </div>
       <div class="c20">
      <div class="red "id="r14">14</div>
      <div class="red" id="r^"> ^ </div>
      <div class="red" id="r<"> < </div>
      <div class="red" id="r5">5</div>
       </div>
       <div class="c21">
      <div class="red" id="r21">21</div>
      <div class="red" id="r>"> > </div>
      <div class="yellow" id="win">win</div>
      <div class="green" id="g49">49</div>
       </div>
          <div class="c22">
      <div class="green" id="g29"> 29</div>
      <div class="red" id="r22"> 22 </div>
      <div class="red" id="r29">29</div>
      <div class="green" id="g40"> 40 </div>
       </div>


  </div>
  <!--path--><div class="r2c3">
     <div class="c14">
      <div class="green" id="g30">30</div>
      <div class="red" id="r23">23</div>
      <div class="red" id="r28">28</div>
      <div class="green" id="g39">39</div>

</div>
 <div class="c15">
      <div class="green" id="g31">31</div>
      <div class="red" id="r24">24</div>
      <div class="red" id="r27">27</div>
      <div class="green" id="g38">38</div>
       </div>
       <div class="c16">
      <div class="green" id="g32">32</div>
      <div class="red" id="r25">25</div>
      <div class="red" id="r26">26</div>
      <div class="green" id="g37">37</div>
       </div>
       <div class="c17">
      <div class="green" id="g33">33</div>
      <div class="green" id="g34">34</div>
      <div class="green" id="g35">35</div>
      <div class="green" id="g36">36</div>
       </div>

  </div>
</div>
<div class="b3">
      <!--white--><div class="r3c1">
        <div class="dice" id="dice">
        <!-- <img src="/Users/zainahmed/Desktop/pmi game/dice images/dice2.jpg" width="50" height="60" id="check"> -->
        </div>
        </div>
  <!--white--><div class="r3c2">
    <div class="c1">
        <!--1st line-->
    <div class="green" id="g4">4</div>
    <div class="green" id="g3">3</div>
    <div class="green" id="g2">2</div>
    <div class="orange"  id="g1">START
      <div class="square" id="bluePawan"></div></div>
  </div>
  <div class="c2">
    <!--2nd line-->
     <div class="red" id="r4">4</div>
    <div class="red" id="r3">3</div>
    <div class="red" id="r2">2</div>
    <div class="orange" id="r1">
      <div class="square1" id="whitePawan">
     </div>
    </div>
    </div>
    <div class="c3">
    <!--3rd line-->
     <div class="green" id="g48">48</div>
    <div class="green" id="g47">47</div>
    <div class="green" id="g46">46</div>
    <div class="green" id="g45">45</div>

    </div>
    <div class="c4">
    <!--4th line-->
     <div class="green" id="g41">41</div>
     <div class="green" id="g42">42</div>
    <div class="green" id="g43">43</div>
    <div class="green" id="g44">44</div>

    </div>

  </div>
  <!--white--><div class="r3c3">
  <button type="button" onclick="gamedice()" style="background-color:black;width:100px;height:50px;color:white;">dice</button>

  </div>
</div>
</div>

<script>
//   function insertSquare(){
//   var square = document.getElementById("square");
// }
var turn = 1;
var snakeHeadGreen = [8,26,37,49];
var snakeTailGreen = [7,24,34,45];
var snakeHeadRed = [5,11,21,24,27,29];
var snakeTailRed = [3,8,15,16,20,13];
var colors = ["blue","white","grey","purple","orage","pink","#00FF00","#99CCFF","#FFCC99"]
//Math.floor(Math.random()*6 +1);
function gamedice() {
  //let currentTurn = new XMLSerializer().serializeToString(document.getElementById("currentTurn").firstChild)
let currentTurn = document.getElementById("currentTurn")
currentTurn.innerHTML = "RED";
var player = 1
//Math.floor(Math.random()*6 +1);
console.log(player)
//var playerdice = "/Users/zainahmed/Desktop/pmi game/dice images/dice`${player}`.jpg";
console.log(document.getElementById('dice'));
document.getElementById('dice').innerHTML = player;
movement(player);
}
function movement(player){
	// let squareDiv = document.createElement("DIV");
	// squareDiv.className = "square"
  // squareDiv.id = "bluePawan"
  // console.log('here1',document.getElementsByClassName("square")[0].parentElement)
	let moveValue = defineMoves(player)

  let currentPostion = new XMLSerializer().serializeToString(document.getElementById("dicePosition").firstChild)
    document.getElementById("dicePosition").innerHTML = currentPostion


    if(turn%2==1){
      let currentPostion = new XMLSerializer().serializeToString(document.getElementById("dicePosition").firstChild)
      document.getElementById("dicePosition").innerHTML = currentPostion
      let finalPosition  = parseInt(new XMLSerializer().serializeToString(document.getElementById("dicePosition").firstChild).slice(1));
      console.log("finalPosition",finalPosition);
      if(finalPosition+player > 49){
        alert("GAME OVER Green");
        return;
      }

      if(moveValue != -1)
          movePawnGreen(player,currentPostion)
    }
    else{
      let currentPostion = new XMLSerializer().serializeToString(document.getElementById("dicePositionRed").firstChild)
      document.getElementById("dicePositionRed").innerHTML = currentPostion
      let finalPosition  = parseInt(new XMLSerializer().serializeToString(document.getElementById("dicePositionRed").firstChild).slice(1));
      console.log("finalPosition",finalPosition);
      if(finalPosition+player > 29){
        alert("GAME OVER RED");
        return;
      }
      if(moveValue != -1)
          movePawnRed(player,currentPostion)
    }
}

function movePawnGreen(move,currentPostion){
  let squareDiv = document.createElement("DIV");
  squareDiv.className = "square"
  squareDiv.id = "bluePawan"
  let currentPostionValue = parseInt(currentPostion.replace(/[^0-9]/g,''));
  console.log("curr",move);

  let remove;
  console.log('1 here')
  if(document.getElementById("g"+(currentPostionValue)).childNodes[1].id != 'bluePawan')
    remove = 2
  else
    remove = 1
  switch (move) {
    case 1:
      if(moveSnakesGreen('GREEN',currentPostionValue,squareDiv) == 1)
        return;
      document.getElementById("g"+(currentPostionValue)).removeChild(document.getElementById("g"+(currentPostionValue)).childNodes[remove])
      document.getElementById(currentPostion.charAt(0)+(currentPostionValue+1)).appendChild(squareDiv);
      document.getElementById("dicePosition").innerHTML = "g"+(currentPostionValue+1);
      break;
    case 2:
<<<<<<< HEAD
    let remove;3
    console.log('my child',document.getElementById("g"+(currentPostionValue)).childNodes[1].id)
    console.log("my data",document.getElementById("g"+(currentPostionValue)))
    if("g"+(currentPostionValue).id != 'whitePawan')
      remove = 2
    else
      remove = 1
=======
    if(moveSnakesGreen('GREEN',currentPostionValue,squareDiv))
      return;
>>>>>>> 257d46de09f4558c66de4f56fd2477364ead8b51
    let posDice = currentPostion.charAt(0)+(currentPostionValue+2);
    document.getElementById("g"+(currentPostionValue)).removeChild(document.getElementById("g"+(currentPostionValue))
                              .childNodes[remove])
      document.getElementById(posDice).appendChild(squareDiv);
      document.getElementById("dicePosition").innerHTML = "g"+(currentPostionValue+2)
        break;
    case 3:
    if(moveSnakesGreen('GREEN',currentPostionValue,squareDiv))
      return;
        if(currentPostion == 'g1')
              return;
        document.getElementById("g"+(currentPostionValue)).removeChild(document.getElementById("g"+(currentPostionValue)).childNodes[remove])
        document.getElementById(currentPostion.charAt(0)+(currentPostionValue-1)).appendChild(squareDiv);
        document.getElementById("dicePosition").innerHTML = "g"+(currentPostionValue-1)
      break;
    case 5:
    if(moveSnakesGreen('GREEN',currentPostionValue,squareDiv))
      return;
        document.getElementById("g"+(currentPostionValue)).removeChild(document.getElementById("g"+(currentPostionValue)).childNodes[remove])
        document.getElementById(currentPostion.charAt(0)+(currentPostionValue+1)).appendChild(squareDiv);
        document.getElementById("dicePosition").innerHTML = "g"+(currentPostionValue+1)
        break;
    case 4:
    if(moveSnakesGreen('GREEN',currentPostionValue,squareDiv))
      return;
        document.getElementById("g"+(currentPostionValue)).removeChild(document.getElementById("g"+(currentPostionValue)).childNodes[remove])
        document.getElementById(currentPostion.charAt(0)+(currentPostionValue+1)).appendChild(squareDiv);
        document.getElementById("dicePosition").innerHTML = "g"+(currentPostionValue+1)
        break;
    default:
      null;
  }
  let currentTurn = document.getElementById("currentTurn")
  currentTurn.innerHTML = "RED";
  turn++;
}
function movePawnRed(move,currentPostion){
  let squareDiv = document.createElement("DIV");
  squareDiv.className = "square1"
  squareDiv.id = "whitePawan"
  let currentPostionValue = parseInt(currentPostion.replace(/[^0-9]/g,''));
  let remove;
  if(document.getElementById("r"+(currentPostionValue)).childNodes[1].id != 'whitePawan')
    remove = 2
  else
    remove = 1
  switch (move) {
    case 1:
      console.log('1 here')
      document.getElementById("r"+(currentPostionValue)).removeChild(document.getElementById("r"+(currentPostionValue)).childNodes[remove])
      document.getElementById(currentPostion.charAt(0)+(currentPostionValue+1)).appendChild(squareDiv);
      document.getElementById("dicePositionRed").innerHTML = "r"+(currentPostionValue+1);
      //"g"+new XMLSerializer().
      //serializeToString(document.getElementsByClassName("square")[0]
      //.parentElement.firstChild)
      break;
    case 2:
    let posDice = currentPostion.charAt(0)+(currentPostionValue+2);
    document.getElementById("r"+(currentPostionValue)).removeChild(document.getElementById("r"+(currentPostionValue))
                                .childNodes[remove])
      document.getElementById(posDice).appendChild(squareDiv);
      document.getElementById("dicePositionRed").innerHTML = "r"+(currentPostionValue+2)
        break;
    case 3:
        console.log("current",currentPostion)
        if(currentPostion == 'r1')
              return;
        document.getElementById("r"+(currentPostionValue)).removeChild(document.getElementById("r"+(currentPostionValue)).childNodes[remove])
        document.getElementById(currentPostion.charAt(0)+(currentPostionValue-1)).appendChild(squareDiv);
        document.getElementById("dicePositionRed").innerHTML = "r"+(currentPostionValue-1)
      break;
    case 5:
        console.log('5 here')
        document.getElementById("r"+(currentPostionValue)).removeChild(document.getElementById("r"+(currentPostionValue)).childNodes[remove])
        document.getElementById(currentPostion.charAt(0)+(currentPostionValue+1)).appendChild(squareDiv);
        document.getElementById("dicePositionRed").innerHTML = "r"+(currentPostionValue+1)
        break;
    case 4:
        console.log('4 here')
        document.getElementById("r"+(currentPostionValue)).removeChild(document.getElementById("r"+(currentPostionValue)).childNodes[remove])
        document.getElementById(currentPostion.charAt(0)+(currentPostionValue+1)).appendChild(squareDiv);
        document.getElementById("dicePositionRed").innerHTML = "r"+(currentPostionValue+1)
        break;
    default:
      null;
  }

  let currentTurn = document.getElementById("currentTurn")
  currentTurn.innerHTML = "GREEN";
  turn++;
}

function createSnake(times,player){

  for(let j = 0;j<times;j++){
    if(player == 'GREEN')
        plotSnake(snakeHeadGreen[j],snakeTailGreen[j],colors[j],player)
    else
        plotSnake(snakeHeadRed[j],snakeTailRed[j],colors[j],player)
  }

}

function plotSnake(x,y,color,player){
  let snakeH = document.createElement("DIV");
  snakeH.className = "snake"
  snakeH.innerHTML = "H"
  snakeH.style.background = color;
  let snakeT = document.createElement("DIV");
  snakeT.className = "snake"
  snakeT.innerHTML = "T"
  snakeT.style.background = color;

  let box;

  if(player == 'GREEN')
      box = 'g';
  else
      box = 'r'

  console.log('checking',box+x)
  document.getElementById(box+x).appendChild(snakeH)
  document.getElementById(box+y).appendChild(snakeT)

}

function moveSnakesGreen(player,currentPostionValue,squareDiv){
  console.log('logs',currentPostionValue)
    if(player == 'GREEN'){
      if(snakeHeadGreen.includes(currentPostionValue)){
        let pushIndex = snakeHeadGreen.indexOf(currentPostionValue);
        document.getElementById('g'+currentPostionValue).
                removeChild(document.getElementById('g'+currentPostionValue).childNodes[2])
        document.getElementById('g'+snakeTailGreen[pushIndex]).appendChild(squareDiv);
        return 1;
      }
    }
    return -1;
}

function defineMoves(move){
  if(move == 1 || move == 3 || move == 5)
      return 1;

   if(move == 2 || move == 4)
        return 2;

  return -1;
}
createSnake(4,'GREEN')
createSnake(6,'RED')
</script>
</body>
</html>
